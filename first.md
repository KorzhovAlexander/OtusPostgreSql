# Домашнее задание #1

### Ход работы

1. Установим Postgres на docker и подключимся к бд

   `docker run -it --name psql-container -p 5432:5432 -e POSTGRES_PASSWORD=postgres -d postgres`

   `psql -U postgres -d postgres`

2.
    * посмотреть текущий уровень изоляции: `show transaction isolation level;`
    * начать новую транзакцию в обоих сессиях с дефолтным (не меняя) уровнем изоляции
    * в первой сессии добавить новую запись `insert into persons(first_name, second_name) values('sergey', 'sergeev');`
    * сделать `select * from persons;` во второй сессии
    * **видите ли вы новую запись и если да то почему?**
      > Новую запись НЕ видно, так как транзакция внесения person еще не подтверждена("закоммичена")
      >
      > «Грязное» чтение Невозможно в Read committed(Чтение зафиксированных) транзакции

3.
    * завершить первую транзакцию - commit;
    * сделать select * from persons во второй сессии
    * **видите ли вы новую запись и если да то почему?**
      > Новую запись видно, так как транзакция подтверждена
      >
      > фантомное чтение в Read committed допускается

4.
    * завершите транзакцию во второй сессии
    * начать новые но уже repeatable read транзации - set transaction isolation level repeatable read;
    * в первой сессии добавить новую запись insert into persons(first_name, second_name) values('sveta', 'svetova');
    * сделать select * from persons во второй сессии
    * **видите ли вы новую запись и если да то почему?**
      > Новую запись НЕ видно, так как грязное чтение не допустимо в Repeatable read

5.
    * завершить первую транзакцию - commit;
    * сделать select * from persons во второй сессии
    * **видите ли вы новую запись и если да то почему?**
      > Новую запись НЕ видно, так как фантомное чтение не допустимо в Repeatable read

6.
    * завершить вторую транзакцию
    * сделать select * from persons во второй сессии
    * **видите ли вы новую запись и если да то почему?**
      > Новую запись видно, так как мы начали новую транзакцию и работаем уже с данными которые были закоммичены

